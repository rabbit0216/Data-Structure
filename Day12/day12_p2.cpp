#include <iostream>
#define MAX 353333
using namespace std;

class cell {
public:
	int key;
	int value;
	bool flag;
	int prob;

	cell() {
		key = -1;
		value = -1;
		flag = false;
		prob = 1;
	}
};

cell* hashArr = new cell[MAX];

int hashfunc(int idx) {
	return idx % MAX;
}

int hashfunc2(int idx) {
	return (17 - (idx % 17));
}

void insertTable(int value) {
	int hx1 = hashfunc(value);
	int hx2 = hashfunc2(value);

	if (hashArr[hx1].flag == false) {
		hashArr[hx1].flag = true;
		hashArr[hx1].key = hx1;
		hashArr[hx1].value = value;
		hashArr[hx1].prob = 1;
		return;
	}
	else {
		int idx = (hx1 + hx2) % MAX;
		int prob = 2;
		if (hashArr[idx].flag == false) { //더블해싱 한번 prob 했을 때 비어있을 경우
			hashArr[idx].flag = true;
			hashArr[idx].key = idx;
			hashArr[idx].value = value;
			hashArr[idx].prob = prob;
			return;
		}
		else {
			while(1) {
				if (hashArr[idx].flag == false)
					break;
				prob += 1;
				idx = (idx + hx2) % MAX;
			}
			hashArr[idx].flag = true;
			hashArr[idx].key = idx;
			hashArr[idx].value = value;
			hashArr[idx].prob = prob;
			return;
		}
	}
}

void searchTable(int value) {
	int prob = 1;
	int hx1 = hashfunc(value);
	int hx2 = hashfunc2(value);
	int idx1 = hx1;
	int idx2 = (hx1 + hx2) % MAX;
	int idx = hx1;
	while (1) {
		if (hashArr[idx1].flag == false)
			break;
		else {
			prob = 2;
			if (hashArr[idx1].value == value) {
				cout << "1 " << hashArr[idx1].prob << '\n';
				return;
			}
			else {
				if (hashArr[idx2].flag == false) //존재하지 않는 경우
					break;
				if (hashArr[idx2].value == value) { //value값 같을 경우
					cout << "1 " << hashArr[idx2].prob << '\n';
					return;
				}
			}
			prob += 1;
			idx2 = (idx2 + hx2) % MAX;
		}
		
	
	}
	cout << "0 " << prob << '\n';
}

int main() {
	int t;
	cin >> t;
	for (int i = 0;i < t;i++) {
		int n;
		cin >> n;

		for (int j = 0;j < n;j++) {
			int x;
			cin >> x;
			insertTable(x);
		}

		int m;
		cin >> m;

		for (int k = 0;k < m;k++) {
			int x;
			cin >> x;
			searchTable(x);
		}

		for (int l = 0;l < MAX;l++) {
			hashArr[l].flag = false;
			hashArr[l].key = -1;
			hashArr[l].value = -1;
			hashArr[l].prob = 1;
		}
	}
	return 0;
}

/*
2
5
4 1 5 2 3
5
1 3 7 9 5
5
1 12 23 353334 706667
5
1 353334 706667 5 23

*/


/*
*
977
2407597 2066854 920143 1375569 2302216 63807 2452876 3343343 2589364 1090666 2902254 1145993 78566 931520 2760715 3415689 1815134 872486 2801213 2562930 979302 831838 682080 1752733 416754 1205988 78410 2636007 1307155 3246024 2091510 3417534 945531 712719 630321 2806717 1464109 640636 1284688 841071 2925979 791959 96889 3296203 623731 253908 3002154 2853661 3369611 1317427 1340780 3202354 629620 2108041 2556042 149951 2911898 1364752 36790 913567 2152421 524042 586871 1234454 2547946 1336530 2075498 324262 1426440 3362733 15340 902222 1931897 3090092 2413033 781452 3520785 3507215 158515 103001 3399365 1728228 964561 708123 850937 2995051 1496497 1520093 3170560 2692325 1656709 3523817 77123 3512171 667599 387251 455569 2940705 1817480 719974 1344847 1471325 757683 1718311 78344 598134 262265 2217736 1272335 2874656 1684706 2383661 2080272 3137236 2686969 1054304 2451260 1874554 2303432 1439153 1964999 3197994 315747 1233019 2393630 1893424 3179541 761638 1663783 9413 2005402 16208 2161527 2204757 1030099 523729 2479227 2923795 3246840 3463913 2727745 1348890 1018360 2300621 3002315 919099 1918544 423474 2413045 720332 1071317 3379848 636838 2287064 1826077 1008836 2126733 490556 2275599 2361991 715705 119127 1468353 263183 578674 3465355 2434291 2031881 1521987 372068 1837351 1480751 1052275 2092049 2911958 1672520 2870737 2715050 600240 1508787 667091 2945853 3503834 1502045 72157 1906783 2186827 1463103 673777 902005 321198 328489 1106425 2286821 464961 2310790 403554 1031416 2490298 1624553 2778739 2063995 
2019604 3522943 3232557 2062163 3364905 1730284 1591803 3207591 3306195 2772935 2182786 724089 1154459 2490323 2496088 1924740 2435846 1730887 3235086 3231438 1535287 860865 1260192 1129260 1579741 116754 2050882 2274140 1661545 3205067 282194 1718769 2481542 1588092 1167093 1386985 2270930 955692 374807 3142776 201134 2494332 2786806 3126795 2912234 2650384 2109704 874569 132395 1618114 49146 2091440 436327 2183712 2043837 3396362 982279 8306 2672399 1482434 726712 2555314 2496360 262388 3450787 2473420 1857209 3004640 1133034 1309176 2265888 2481816 404945 378213 62335 1161062 1273258 438158 1250439 558797 416857 1049964 528473 3128808 1863291 1077896 3160422 1994731 2857065 2703682 1858246 557911 362863 1336674 345403 873655 1158686 2255284 2281564 571233 2903492 618071 1766518 1955252 3404149 2164660 2818628 2340045 906574 1112171 787753 2069041 1114254 1612801 240124 3132051 3438604 1891422 1398082 268632 208819 1459352 1836922 1120535 465623 762771 1804452 1742260 844988 321343 3165074 1584824 211380 2471308 1177835 2880398 3495127 3326087 1854345 2458748 1641000 750279 1250875 2406614 856106 3371994 1167843 2479215 2338047 2707968 124426 496306 1743722 149497 2082091 164245 219050 2548302 3262129 2865146 594692 496622 1210731 1196878 1114909 1077306 3116824 1140369 3250314 370183 1137641 283566 3349351 633214 1153858 1299483 750851 2373762 183491 3232036 3331348 1811642 1498925 2454132 992059 3508101 2819291 2706478 2943215 1290680 346431 2298010 2710503 1135188 2538877 479645 3344497 694338 3448466 1366995 1023133 117164 1702444 2134289 142108 1556089 3232836 1160534 1731717 3079521 3263449 1810425 583510 1758562 1428402 873227 147106 1850442 1659789 1346470 2819715 1668400 3476418 2453362 
3476665 1566142 2295734 682144 2589387 3530105 773923 3275135 737648 908691 3228594 2992866 1816473 1285180 1683568 3323040 984803 836065 3409873 2398618 2512433 2553702 222443 645240 2281876 441030 3287417 3063242 2317016 3345931 1618196 3302100 2593314 3123370 2450910 2413571 2428120 764219 924719 2991184 986246 1670713 2011989 2104053 1113194 2518848 1557332 2645717 1163505 887782 2788591 1850095 1644386 3292204 3327687 1404461 869016 167470 1728637 3384332 3044916 3337291 2236429 1631701 68557 1173205 3225144 2716091 1521429 1214230 560100 2005489 268661 1052596 1691541 2021484 2767907 3435195 3075378 36881 238433 1882668 1880564 2921307 1586046 3219177 2410966 3221785 458987 2224013 997490 3270118 1088789 1168702 2633496 367210 1181108 3164639 1373807 3387582 1555663 2477531 2282584 1524911 3470267 1695140 2064753 227484 2299262 238459 2891786 2052568 831035 3336445 2681494 2821655 2797096 3073767 3179482 1523429 878802 913745 1126954 2195191 2191053 365422 596910 1268358 1028155 1399551 1523134 382828 3337327 572481 596459 2256033 751968 616828 3174736 3301748 668280 2842965 1530080 773954 2869449 1857061 2222001 1547513 2812736 321154 1642515 794368 662691 1992082 890129 248329 1455769 848207 1348956 5249 449354 618895 3266819 420386 188674 578473 692217 70248 3272207 2195520 886983 885572 1273382 3153172 3343296 3416185 1288211 612407 3323230 2467991 1638826 2276706 1387508 294403 3157425 1825097 12462 1373987 2304561 2705046 1711606 1105925 2644432 3188989 3313024 1768181 2817338 413883 533418 3225206 2357423 571318 1624112 1246570 190422 2209854 1715713 459900 3092685 3018688 1654355 1493246 1163954 47412 1004231 1155821 1748651 785746 2101061 984145 697526 1709948 1204704 464083 1149429 2000908 843985 3139552 134431 1340482 1196564 3036834 2144539 2579291 653774 2625931 535681 1512137 2835347 1172823 1882837 736113 1662877 2230075 639785 3038768 2970168 1165787 1632491 2540523 3284548 897317 1780861 1274065 429912 258633 866980 2192907 1408844 2808141 1156558 2018622 2559092 1052528 1780095 431012 1913768 581601 51425 1387384 2207814 
2845633 1647895 2700823 2061239 801548 1309 192624 532721 2210149 2272628 9214 2681881 1214467 1671426 372950 960339 2519784 83727 3383916 590027 2650565 2276415 3028807 1696917 2443460 594725 404047 1059404 3204693 103633 1630330 1582625 529564 1542164 2900804 1038077 1388635 787661 1786691 2872311 1260398 3338443 2489998 2602444 2006057 2223756 3085001 1187059 128428 2152737 2111625 3067498 2401238 1785062 2698054 415891 3323893 2578906 2665623 1276141 1969116 2678621 241981 116308 2530029 1012994 707912 1091947 3414977 783131 2191002 1378080 407955 447359 490741 2782194 3069378 2256811 1016190 1366955 3491473 2589494 2674161 1445491 1566286 506976 505003 146489 2931021 375677 1311578 2957315 3522243 1730173 1421160 84997 1897682 1544524 820846 2342333 1376608 2901608 2630117 2309362 2303257 1239429 859936 855815 391670 2278149 3295819 1590165 3379883 296408 563516 966635 1907748 3130397 1200835 1160989 2714573 1952859 3097301 1848852 994541 2137969 1438194 1572450 3250940 2436488 3404210 2642454 1996112 2821554 1561297 526910 1115354 286179 2700845 850263 1427572 1820342 1704865 1422103 733838 2879568 2575308 1525601 2153272 2219719 2445008 1626808 859398 2140506 1598167 893868 2146156 1582376 2604509 49628 496005 2022505 3516472 211792 2808060 2108104 484224 1284129 3422883 686265 2067733 2003610 2454026 1308242 558220 1167302 264360 260648 1834212 2047492 623761 188768 967782 2128216 928346 2417304 2419192 2138787 1887096 1057141 2756227 1868030 1805662 201302 525705 1100774 2395399 3134476 1654162 3166118 1164974 3189866 121520 2902902 2669310 1274232 2590725 1229032 2604788 2398395 1111308 787714 3296166 437105 912912 2260587 3218944 2697113 2131455 1510514 478849 2408668 328765 2128457 2408779 1050840 1497877 1827798 144166 3358730 1526814 1067355 1896049 766282 2243799 2619559 1267265 1989618 3386598 278971 2276358 1084522 2504375 523344 322850 1587420 1496577 2026194 1378559 3317367 3463681 2629067 2227302 612393 660931 1482431 569526 421749 2283609 1615629 3215149 3439065 1514556 2665186 2961413 1413258 308599 2240279 1482374 1482291 1171156 955926 20790 1928734 2260933 1834582 552340 3348919 3151182 3377383
22
1758562 2479215 1595473 1882332 1375569 1630210 2082091 2716091 1057141 3197994 886983 1274232 2477531 824146 1023133 2842965 2222001 3219177 1158686 2742947 1133034 1496497


442
2656651 2405633 2152321 3014171 2205452 2066995 1606646 1110487 2874895 918139 227362 2150389 3478500 2902302 3168317 69599 411388 517548 665195 483742 2696908 3332322 1734012 2538489 28639 916805 2310830 1081179 1847701 1092263 1992824 1786607 2626142 3196456 938644 3070900 1338119 1186828 2187591 1756648 314292 677607 1871654 2321432 2347840 922650 2836559 1448298 1365820 1112732 55670 2059081 2580307 140679 2796930 689347 2324251 202149 3208052 2752722 29261 885744 3156388 2348103 3001893 1360322 988701 565479 1005721 855890 214186 109637 1759123 1554050 661124 875033 3016630 3390055 171882 1879166 78635 837942 3132257 1140429 261972 592431 3324092 586874 2060201 2195275 588624 281539 1624 3368486 2059377 2282437 2224781 2583945 825020 1723541 3233439 3259273 2337318 3514758 3519254 402570 576159 2477784 2559715 2683955 667786 959976 3187837 3064442 316719 2557739 513524 1109416 2195337 1649600 787116 450232 1696094 2101462 348302 1883119 3054612 196072 2856671 708643 1489047 1872181 2795686 2397678 1365199 997416 1443153 2614121 2051960 2589824 1515803 494411 2107446 1486592 2918747 13051 1994349 1409378 3374525 3143694 879449 390342 2364590 691222 112587 1581135 2307356 1302435 37103 1912774 2532929 548340 3294127 226853 2422379 154851 925050 1360557 1968938 870933 1290139 395097 3009542 3138216 2257541 1295155 1394717 2353643 3474094 1051130 3362591 3125427 328230 2596075 1914982 3083022 1222602 877721 1777815 596601 53744 2304525 970075 1303222 2233976 478952 886363 763050 1547337 1159688 1777230 824058 3472089 1645074 1569489 285340 163745 1126059 2518732 1215915 2459833 1732240 703221 1688290 2996458 2078722 2848154 497403 3056575 3104523 780643 3327129 2409674 2257639 1609209 2335891 3271322 820525 1738324 2083600 583933 477323 477759 799125 86298 1487680 302003 1512834 1441539 2516542 2583669 1457274 1171676 1000494 2622379 310404 2572225 2911599 510665 1767666 1793466 868089 1258884 1414514 1424545 82743 1610402 1558738 1845589 835822 2208645 2715145 2511214 1070993 134460 1219089 1872842 2140893 1307691 2525859 2491225 950180 3348150 1405634 2269697 3010231 3085855 253300 754508 2300065 2717696 1667361 2163817 3158054 3057560 3203730 258331 381515 2219496 967876 2294535 768070 3063836 1861943 1402378 2657631 5594 928158 1885993 2972186 1291277 2696537 1282885 2375432 496072 288060 841184 2508801 2280879 981635 1165356 761459 282286 3283226 360524 2528342 3392244 2158235 2013578 2118273 2746678 3409863 887343 206848 1968066 162639 2493840 2590407 2174815 1523488 228206 1555772 3389951 2741972 3291902 3212479 546541 1913295 1493545 1481429 2926080 767796 2181793 1872456 935836 1150704 926624 2584756 2511566 3417013 3523871 2989199 1800814 1104695 2003975 2023499 2848997 1845196 27969 1812725 2876853 2133854 3133704 2951595 1780550 868780 2512303 3288663 260093 162365 775855 2422136 1060537 391680 3429980 2361449 2180329 1165531 1672893 2896681 682850 1950888 2066333 376140 995882 2540366 3224189 2891639 1941251 2384543 2385011 683370 2452464 2111057 520247 276374 1520153 2134515 2373526 2292013 1989920 149945 2155422 787652 1970132 3087171 901525 3487072 2606782 586774 431777 2524502 3274672 3075695 2187115 2136103 1874481 1670935 2663199 2417085 2563360 3417560 2442703 303557 1331356 3145601 1876699 3490729 2362399 61928 3117239 112754 1198303 1812445 15225 2930947 851658 1688517 417045 621454 892886 1615856
5
824058 2596075 1547337 810834 3117239

158
38 80 706677 25 69 706672 706674 11 4 1413335 17 93 353337 97 1413336 13 99 87 706669 1060002 1060001 706670 90 78 52 1766667 1766676 88 96 35 1413334 85 49 55 56 66 30 1766673 59 353343 40 100 12 1413342 1060004 1060009 94 1413338 1766675 706673 9 51 33 77 1766672 39 353340 3 353335 1413333 1060010 72 28 58 14 81 353338 353339 63 92 2345648 65 706668 353334 95 1766666 7 36 98 89 1766668 62 20 1766669 1413343 50 353336 22 6 1766670 706667 16 1060003 18 73 8 76 1060005 1413340 74 79 47 2853352 1060007 70 53 44 24 2 23 10 353344 26 21 84 1060006 1413337 43 60 37 34 706675 57 1060008 54 82 83 1413339 61 706671 67 706676 91 29 75 5 86 1413341 1060000 353341 1 68 41 27 45 42 31 176744 1766671 15 71 64 46 353342 48 32 1766674 19
21
45705 1060008 3 43 100 353343 3185208 41 2345648 69 1766667 1560110 3417625 14 16 76 72 729523 1060003 93 33

188
97 3179998 3533338 22 353339 2119999 90 3533333 33 17 2473335 2120003 2826668 94 1413335 79 49 706671 13 2826667 2473336 81 98 51 40 2473333 35 45 1060004 2120004 1060007 1413333 3533337 96 1766670 55 34 77 353336 69 70 1060003 25 52 37 2826669 21 27 68 3533332 73 706673 28 1413338 706667 91 31 39 2120006 41 2129357 58 2473334 6 353338 23 1413337 1060006 10 1766668 2826670 86 160326 1766666 72 2473337 1413339 706668 14 18 54 3180002 3180003 2473339 2826671 93 3533335 706672 2826666 1060000 65 12 62 1360138 1766671 20 1413336 56 67 63 76 2473338 3180001 15 59 1053226 2120001 87 29 3533336 38 3180005 353334 3 353335 57 44 100 1766669 3533334 53 1060002 89 2826672 3180004 2 46 2309883 1766672 8 60 9 19 48 353337 50 5 706670 82 36 2826665 32 11 99 353341 80 42 71 64 78 2473332 1766673 1060001 1766667 3179999 706674 88 16 353340 75 61 2120000 1 1413340 3349096 1060005 4 2575609 47 3180000 74 26 24 2120002 7 1413334 92 30 3533331 84 66 706669 43 83 1309416 85 95 2120005
46
87 68 2473338 1060001 31 3210192 1060007 30 1969062 1766667 2473334 2309883 73 81 3533334 1309416 3180005 2418695 1084244 9 2029530 706672 2421686 99 394243 3533337 3180000 11 45 2120001 34 3 6 2473339 59 22 2708687 2473333 56 353335 252169 52 79 82 75 3297432

*/